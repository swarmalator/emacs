% Created 2019-11-01 Fri 12:55
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Cole Turner}
\date{\today}
\title{Emacs Settings}
\hypersetup{
 pdfauthor={Cole Turner},
 pdftitle={Emacs Settings},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 26.3 (Org mode 9.2.5)}, 
 pdflang={English}}
\begin{document}

\maketitle
\tableofcontents

This is my Emacs settings file.

\section{about this file}
\label{sec:org8e5129f}
This Dropbox setup should support both Emacs 25 and 26. Upon fresh installation, modify (on Linux) the .desktop file located in /usr/share/applications. This can be found with:

\begin{verbatim}
ls /usr/share/applications | grep emacs
\end{verbatim}

Then edit the file as superuser and change the "Exec" line so that running Emacs will execute the command:

\begin{verbatim}
emacs -q --load "~/Dropbox/.emacs_config/init.el"
\end{verbatim}

OR - just put the previous line as the first line in the .emacs file.

This loads the Dropbox init.el file before establishing the default value of user-emacs-directory.

The following additional packages are required and can be downloaded using "M-x package-install":    
\begin{itemize}
\item soothe-theme
\item company
\item helm
\item org
\item org-bullets
\item org-journal
\item org-mind-map
\item smartparens
\item visual-fill-column
\end{itemize}

\section{appearance}
\label{sec:org2d3118c}
\begin{verbatim}
(tool-bar-mode -1)
(menu-bar-mode -1)
(scroll-bar-mode -1)
(set-face-attribute 'default nil :height 150) ;; 130 = 13pt font
\end{verbatim}
\subsection{theme}
\label{sec:orgf9c90cd}
\begin{verbatim}
(setq custom-safe-themes
   (quote       ("a77ced882e25028e994d168a612c763a4feb8c4ab67c5ff48688654d0264370c" default)))
(load-theme 'soothe)
(custom-set-faces
 '(org-hide ((t (:background "#110F13" :foreground "#110F13"))))
 ;'(font-lock-comment-face ((t (:background "#110F13" :foreground "#7868B5" :slant italic))))
)
\end{verbatim}
\subsection{mode line}
\label{sec:orgf3267d1}
\subsubsection{time and date}
\label{sec:org77a2070}
\begin{verbatim}
(setq display-time-day-and-date t)
(display-time-mode t)
\end{verbatim}
\subsubsection{column numbers}
\label{sec:org73cb6d6}
\begin{verbatim}
(column-number-mode t)
\end{verbatim}
\section{autocomplete}
\label{sec:org8443bc4}
\begin{verbatim}
(require 'company)
(global-company-mode t)
(require 'ido)
(ido-mode t)
\end{verbatim}

\subsection{spell checking}
\label{sec:org7d7ece9}
\begin{verbatim}
(setq ispell-program-name "/usr/bin/aspell")
(add-hook 'org-mode-hook 'flyspell-mode)
\end{verbatim}

\section{backups}
\label{sec:org7206a16}
\begin{verbatim}
(setq backup-directory-alist '(("." . "~/.emacs.d/backup")))
;;(setq backup-directory-alist '(("." . (concat user-emacs-directory "backup"))))
\end{verbatim}

\section{bookmarks}
\label{sec:orge05e02e}
\begin{verbatim}
(global-set-key (kbd "C-c b") 'bookmark-jump)
\end{verbatim}
\section{personal dictionary}
\label{sec:org6e5c76b}
\begin{verbatim}
(setq ispell-personal-dictionary (expand-file-name ".ispell_pdict" (file-name-directory user-init-file)))
\end{verbatim}
\section{helm}
\label{sec:orge789ef1}
\begin{verbatim}
(require 'helm)
(helm-mode t)
(global-set-key (kbd "M-x") 'helm-M-x)
(global-set-key (kbd "C-x C-f") 'helm-find-files)
(global-set-key (kbd "C-x C-b") 'helm-buffers-list)
\end{verbatim}

\section{initial buffer}
\label{sec:org5f31ff2}
\begin{verbatim}
(setq initial-buffer-choice t)
\end{verbatim}
\section{movement keys}
\label{sec:orgf89ee30}
\begin{verbatim}
(global-set-key (kbd "s-r") 'beginning-of-line)
;;(global-set-key (kbd "C-f") 'forward-word)
;;(global-set-key (kbd "C-b") 'backward-word)
;;(global-set-key (kbd "M-f") 'sp-forward-sexp)
;;(global-set-key (kbd "M-b") 'sp-backward-sexp)
;;(global-set-key (kbd "M-p") 'sp-up-sexp)
;;(global-set-key (kbd "M-n") 'sp-down-sexp)
;;(global-set-key (kbd "M-P") 'sp-backward-up-sexp)
;;(global-set-key (kbd "M-N") 'sp-backward-down-sexp)
\end{verbatim}

\section{my commands}
\label{sec:org76f6ff7}

\begin{verbatim}
(defun my-commands () (interactive)
       (setq unread-command-events (listify-key-sequence "my-"))
       (call-interactively 'helm-M-x))
(global-set-key (kbd "M-X") 'my-commands)
\end{verbatim}

\subsection{transparency}
\label{sec:orgb0b5db6}
\begin{verbatim}
(defun my-transparency () (interactive)
       (let ((b (- (read-key "Set transparency value [0-9]") 48)))
	 (if (< b 10) (set-frame-parameter (selected-frame) 'alpha (- 100 (* b 4))))))
(set-frame-parameter (selected-frame) 'alpha 100)
(global-set-key (kbd "C-c t") 'my-transparency)
\end{verbatim}

\subsection{comment/uncomment}
\label{sec:org4cc2b1d}
\begin{verbatim}
(defun my-comment-or-uncomment () (interactive)
       (if (region-active-p)
	   (call-interactively 'comment-or-uncomment-region)
	 (comment-or-uncomment-region (point-at-bol) (point-at-eol))))
(global-set-key (kbd "C-c ;") 'my-comment-or-uncomment)
\end{verbatim}


\subsection{org time heading}
\label{sec:org443d2ba}
\begin{verbatim}
(require 'org-journal)
(define-key org-journal-mode-map (kbd "C-c s") 'org-edit-headline)
(define-key org-journal-mode-map (kbd "C-c C-<return>") 'insert-journal-entry)
(define-key org-journal-mode-map (kbd "C-c RET") 'insert-timestamp)

(defun insert-journal-entry () "Insert timestamp with new journal entry headline" (interactive)
       (org-return)
       (set-mark (point))
       (sp-backward-whitespace)
       (org-delete-backward-char 1)
       (org-return)
       (org-return)
       (insert "** \n")
       (insert-timestamp))

(defun insert-timestamp () "Insert current date and time inactive timestamp" (interactive)
       (org-time-stamp-inactive '(16))
       (org-return))
\end{verbatim}

\begin{verbatim}
(require 'org-journal)
(defun insert-time () "Insert the current 24h time in HH:MM format" (interactive)
      (let ((arr (split-string (current-time-string) ":")))
	 (insert (concat (substring (first arr) -2) ":" (nth 1 arr)))))
(defun insert-time-heading () "Insert time as new org heading" (interactive)
       (org-insert-heading-respect-content)
       (insert-time)
       (org-beginning-of-line)
       (set-mark (point))
       (sp-backward-whitespace)
       (org-delete-backward-char 1)
       (org-return)
       (org-return)
       (org-end-of-line)
       (org-return))
(define-key org-mode-map (kbd "C-c RET") 'insert-time-heading)
\end{verbatim}


\subsection{pdict-add}
\label{sec:org57e1a7d}
\begin{verbatim}
(defun pdict-add () "Add current word to dictionary" (interactive)
	 (setq unread-command-events (listify-key-sequence "iy"))
	 (if (not (flyspell-check-previous-highlighted-word))
	     (setq unread-command-events (listify-key-sequence ""))))
(define-key org-mode-map (kbd "C-c a") 'pdict-add)
\end{verbatim}

\subsection{minimap}
\label{sec:org8c8489f}
\begin{verbatim}
(global-set-key (kbd "C-c m") 'minimap-mode)
\end{verbatim}

\section{org}
\label{sec:org5c59ae6}
\subsection{org-mode}
\label{sec:orgf9afa17}
\begin{verbatim}
(require 'org)

(setq org-return-follows-link t)
(global-set-key (kbd "C-c l") 'org-store-link)
\end{verbatim}

\subsubsection{indentation}
\label{sec:org8c2422c}
\begin{verbatim}
(define-key org-journal-mode-map (kbd "C-c <right>") 'insert-time-heading-demote)
(define-key org-journal-mode-map (kbd "C-c <left>") 'insert-time-heading-promote)

(defun insert-time-heading-demote () "" (interactive)
       (insert-time-heading)
       (org-demote-subtree))

(defun insert-time-heading-promote () "" (interactive)
       (insert-time-heading)
       (org-promote-subtree))
\end{verbatim}
\subsubsection{capture}
\label{sec:org61e1f2b}
\begin{verbatim}
(global-set-key (kbd "C-c c") 'org-capture)
(setq org-directory "~/Dropbox/beorg")
\end{verbatim}

\subsubsection{agenda}
\label{sec:org025792a}
\begin{verbatim}
(global-set-key (kbd "C-c a") 'org-agenda)
\end{verbatim}

\subsubsection{emphasized text}
\label{sec:org0b4273f}
\begin{verbatim}
(setq org-hide-emphasis-markers t)
\end{verbatim}
\subsubsection{ellipsis}
\label{sec:orgaf41df4}
\begin{verbatim}
(setq org-ellipsis "▾")
\end{verbatim}
\subsection{org-bullets}
\label{sec:orgc2d5b7d}
\begin{verbatim}
(require 'org-bullets)
(add-hook 'org-mode-hook 'org-bullets-mode)
(setq org-bullets-bullet-list (quote ("→")))
\end{verbatim}
\subsection{publish HTML}
\label{sec:orgc73abe3}
\begin{verbatim}
;;(global-set-key (kbd "C-c p") 'org-publish-project)
;;(global-set-key (kbd "C-c P") 'org-publish-all)
(setq org-publish-project-alist
      '(
	("org-html"
	 :base-directory "~/Documents/web/src"
	 :base-extension "org"
	 :publishing-directory "~/Documents/web/html"
	 :recursive nil
	 :publishing-function org-html-publish-to-html
	 :headline-levels 4             ; Just the default for this project.
	 :auto-preamble t
	 :auto-sitemap t
	 :sitemap-sort-folders ignore)
	("org-resources"
	 :base-directory "~/Documents/web/src" 
	 :base-extension "css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf"
	 :publishing-directory "~/Documents/web/html"
	 :recursive t
	 :publishing-function org-publish-attachment
	 )
	("org-journal"
	 :base-directory "~/Documents/journal/"
	 :base-extension "org"
	 :publishing-directory "~/Documents/web/html/journal" 
	 :recursive nil
	 :publishing-function org-publish-attachment
	 )))
\end{verbatim}

\subsection{org-journal}
\label{sec:orgc35aed6}



For Emacs 24, download org-journal version 1.13.1 from
\url{https://github.com/bastibe/org-journal/releases}
\begin{verbatim}
(require 'org-journal)
(global-set-key (kbd "C-c j") 'org-journal-new-entry)
(global-set-key (kbd "C-c J") (lambda () "" (interactive) (org-journal-new-entry t) (read-only-mode)))
(setq org-journal-dir "~/Dropbox/journal") ;; needed in customize
(setq org-journal-file-format "%Y%m%d.org")
\end{verbatim}

\subsection{mind mapping}
\label{sec:org76545c3}
\begin{verbatim}
(require 'ox-org)
(require 'cl) ;; this fixed export problem, not sure why     
(load (concat user-emacs-directory "elpa/org-mind-map-20180826.2340/org-mind-map.el"))
(org-mind-map-make-node-fn default "Makes a plain box node without double borders" nil "box")

(setq org-mind-map-node-formats (quote (("default" . org-mind-map-default-node))))
\end{verbatim}

\section{package archives}
\label{sec:org6c60617}
\begin{verbatim}
(setq package-archives
   (quote
    (("gnu" . "http://elpa.gnu.org/packages/")
     ("melpa" . "http://melpa.milkbox.net/packages/"))))
\end{verbatim}

\section{smartparens}
\label{sec:orga3bb322}


\begin{verbatim}
(smartparens-global-mode t)
(show-smartparens-global-mode t)
(define-key smartparens-mode-map (kbd "C-S-<left>") 'sp-forward-barf-sexp)
(define-key smartparens-mode-map (kbd "C-S-<right>") 'sp-forward-slurp-sexp)
(setq sp-use-subword t)
\end{verbatim}
\subsection{pairs}
\label{sec:org9c8666f}
\begin{verbatim}
(sp-local-pair '(emacs-lisp-mode lisp-interaction-mode) "'" nil :actions nil)
(sp-local-pair '(org-mode tex-mode) "$" "$")
(sp-local-pair '(org-mode tex-mode) "\\textit{" "}" :insert "C-S-i")
(sp-local-pair '(org-mode tex-mode) "\\textbf{" "}" :insert "C-S-b")
;;(sp-local-pair '(org-mode tex-mode) "\\left(" "\\right)" :insert "C-c l")
;;(sp-local-pair '(org-mode tex-mode) "\\left[" "\\right]" :insert "C-c L")
(sp-local-pair '(java-mode) "System.out.println(" ")" :trigger "syso")
\end{verbatim}
\section{word wrap}
\label{sec:org08dfda6}
\begin{verbatim}
(toggle-word-wrap)
(add-hook 'org-mode-hook 'visual-line-mode)
\end{verbatim}
\subsection{visual fill column}
\label{sec:orgb26ab43}
\begin{verbatim}
(require 'visual-fill-column)
(add-hook 'visual-line-mode-hook 'visual-fill-column-mode)
\end{verbatim}
\section{shell buffer}
\label{sec:org5fc0608}
\begin{verbatim}
(global-set-key (kbd "C-!") 'shell)
\end{verbatim}
\section{python}
\label{sec:org795f96d}
\begin{verbatim}
(elpy-enable)
\end{verbatim}
\subsection{devel}
\label{sec:orgd75d8a7}
\begin{verbatim}
(when (require 'flycheck nil t)
  (setq elpy-modules (delq 'elpy-module-flymake elpy-modules))
  (add-hook 'elpy-mode-hook 'flycheck-mode))

(require 'py-autopep8)
(add-hook 'elpy-mode-hook 'py-autopep8-enable-on-save)

\end{verbatim}
\end{document}
